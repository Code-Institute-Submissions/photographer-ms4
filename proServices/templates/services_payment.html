{% extends "base.html" %}

{% load static %}

{% load crispy_forms_tags %}

{% block content %}

<!---- Breadcrumb ---->
<nav aria-label="breadcrumb">
  <ol class="breadcrumb breadcrumb-style">
    <li class="breadcrumb-item"><a href="/">Home</a></li>
    <li class="breadcrumb-item" aria-current="page"><a href="{% url 'services' %}">Professional Services</li></a>
    <li class="breadcrumb-item active" aria-current="page">Payment</li>
  </ol>
</nav>
<!---- End Breadcrumb ---->

<!---- Content ---->
<!-- Stripe CSS -->
<link rel="stylesheet" href="{% static 'css/stripe.css' %}">

<!-- Stripe JS V3 -->
<script src="https://js.stripe.com/v3/"></script>


<div class="container">
  <div class="row justify-content-center">


    <form action="{% url 'charge' %}" method="post" id="payment-form">
      {% csrf_token %}
      <div class="col-12">
        <div class="service-payment-content"><input type="text" name="plan_selected" value="{{ plan.type }}"></div>
        <div class="service-payment-content"><input type="number" name="plan_price" value="{{ plan.price }}"></div>

        <div class="service-payment-content">
          <input required type="text" name="name" value="{{ user.first_name }} {{ user.last_name }}">
        </div>
        <div class="service-payment-content">
          <input required type="text" name="email" value="{{ user.email }}">
        </div>
      </div>
      <div class="form-row">
        <label for="card-element">
          Credit or debit card number
        </label>
        <div id="card-element">
          <!-- A Stripe Element will be inserted here. -->
        </div>

        <!-- Used to display form errors. -->
        <div id="card-errors" role="alert"></div>
      </div>

      <div style="clear:left"></div>
      <hr>

      <input class="myButton" style="background-color:#10a195" type="submit" value="Submit Payment" name="">

    </form>


  </div>
</div>

<script src="{% static 'js/stripe.js' %}"></script>
{% endblock %}